<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta-name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Malkia Plus Premium Calculator</title>

  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f8f9fa;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .card {
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      max-width: 420px;
      width: 100%;
    }
    h2 {
      text-align: center;
      color: #6c2eb9;
      margin-bottom: 20px;
    }
    label {
      font-weight: 600;
      margin-top: 10px;
      display: block;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    button {
      background-color: #6c2eb9;
      color: white;
      border: none;
      border-radius: 10px;
      padding: 10px;
      width: 100%;
      margin-top: 15px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.2s;
    }
    button:hover {
      background-color: #5a22a3;
    }
    .hidden {
      display: none;
    }
    .output {
      text-align: center;
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
    }
  </style>
</head>

<body>

  <h1 class="text-2xl font-bold mb-6 text-center">Malkia Plus Premium Calculator</h1>

<div class="card">

  <h2>Malkia Plus Premium Calculator</h2>

  <!-- PAGE 1 -->
  <div id="page1">

    <label>Name:</label>
    <input type="text" id="name" placeholder="Enter your name">

    <label>ID Number:</label>
    <input type="number" id="idnum" placeholder="Enter your ID number">

    <label>Date of Birth:</label>
    <input type="date" id="dob">

    <label>Region of Residence:</label>
    <input type="text" id="region" placeholder="Enter your region">

    <label>Mobile Number:</label>
    <input type="text" id="mobile" placeholder="07XXXXXXXX">

    <label>Email (Optional):</label>
    <input type="email" id="email" placeholder="example@gmail.com">

    <label>Education Level:</label>
    <input type="text" id="education" placeholder="Your highest education">

    <label>Employment Status:</label>
    <input type="text" id="employment" placeholder="Employed / Self-Employed / Unemployed">

    <label>Salary Range:</label>
    <input type="text" id="salary" placeholder="e.g. 20,000 - 40,000">

    <button onclick="goToPage2()">Next</button>
  </div>

  <!-- PAGE 2 -->
  <div id="page2" class="hidden">

    <h2>Choose Your Cover</h2>

    <label>Age Band:</label>
    <select id="ageBand">
      <option value="18-30">18–30</option>
      <option value="30-50">30–50</option>
      <option value="50-70">50–70</option>
    </select>

    <label>Choose Tier:</label>
    <select id="tier">
      <option value="tier1">Tier 1 — Cancer + Derma + Last Expense</option>
      <option value="tier2">Tier 2 — Tier 1 + Wellness + Surgical</option>
    </select>

    <label>Select Option:</label>
    <select id="option">
      <option value="1">Option 1</option>
      <option value="2">Option 2</option>
      <option value="3">Option 3</option>
      <option value="4">Option 4</option>
      <option value="5">Option 5</option>
      <option value="6">Option 6</option>
      <option value="7">Option 7</option>
    </select>

    <button onclick="calculatePremium()">Calculate Premium</button>

    <div class="output" id="output"></div>

    <!-- M-PESA BUTTON (Hidden Until Premium is Calculated) -->
    <button id="mpesaButton" class="hidden" onclick="simulateMpesa()">Pay with M-Pesa</button>

  </div>

</div>

<script>
  /* PREMIUM TABLE */
  const premiums = {
    tier1: {
      "18-30": [620, 630, 670, 1175, 1235, 1255, 1315],
      "30-50": [680, 720, 790, 1415, 1590, 1730, 1900],
      "50-70": [800, 890, 1020, 1870, 2270, 2640, 3040]
    },
    tier2: {
      "18-30": [1269, 1409, 1579, 2474, 2793, 3073, 3653],
      "30-50": [1492, 1694, 1926, 3038, 3538, 4003, 4822],
      "50-70": [1287, 1474, 1702, 2844, 3439, 4004, 4793]
    }
  };

  /* PAGE SWITCH */
  function goToPage2() {
    const name = document.getElementById("name").value.trim();
    const mobile = document.getElementById("mobile").value.trim();

    if (!name || !mobile) {
      alert("Please enter Name and Mobile Number before continuing.");
      return;
    }

    document.getElementById("page1").classList.add("hidden");
    document.getElementById("page2").classList.remove("hidden");
  }

  /* PREMIUM CALCULATION */
  function calculatePremium() {
    const age = document.getElementById("ageBand").value;
    const tier = document.getElementById("tier").value;
    const option = parseInt(document.getElementById("option").value) - 1;

    const premium = premiums[tier][age][option];

    document.getElementById("output").innerHTML =
      `Your Premium is: <br><strong>KSh ${premium.toLocaleString()}</strong>`;

    document.getElementById("mpesaButton").classList.remove("hidden");
  }

  /* M-PESA SIMULATION */
  function simulateMpesa() {
    alert("✔ STK Push simulated!\n\n(For demo purposes only — no real payment processed.)");
  }
</script>

</body>
</html>
